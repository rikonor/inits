# Encrypted installer - https://github.com/rikonor/inits
$ErrorActionPreference = "Stop"
if (-not (Get-Command openssl -ErrorAction SilentlyContinue)) {
    Write-Host "Error: openssl not found." -ForegroundColor Red
    Write-Host "Please install Git for Windows: https://git-scm.com/download/win"
    Write-Host "Then run this script from Git Bash or ensure openssl is in PATH."
    exit 1
}
$Password = Read-Host -Prompt "Password" -AsSecureString
$BSTR = [System.Runtime.InteropServices.Marshal]::SecureStringToBSTR($Password)
$PlainPassword = [System.Runtime.InteropServices.Marshal]::PtrToStringAuto($BSTR)
$Payload = "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"
$Decrypted = $Payload | openssl enc -aes-256-cbc -d -a -pbkdf2 -iter 100000 -k $PlainPassword 2>$null
if (-not $Decrypted) { Write-Host "Error: Decryption failed. Wrong password?" -ForegroundColor Red; exit 1 }
$Decrypted | Invoke-Expression
