# Encrypted installer - https://github.com/rikonor/inits
$ErrorActionPreference = "Stop"
if (-not (Get-Command openssl -ErrorAction SilentlyContinue)) {
    Write-Host "Error: openssl not found." -ForegroundColor Red
    Write-Host "Please install Git for Windows: https://git-scm.com/download/win"
    Write-Host "Then run this script from Git Bash or ensure openssl is in PATH."
    exit 1
}
$Password = Read-Host -Prompt "Password" -AsSecureString
$BSTR = [System.Runtime.InteropServices.Marshal]::SecureStringToBSTR($Password)
$PlainPassword = [System.Runtime.InteropServices.Marshal]::PtrToStringAuto($BSTR)
$Payload = "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"
$Decrypted = $Payload | openssl enc -aes-256-cbc -d -a -pbkdf2 -iter 100000 -k $PlainPassword 2>$null
if (-not $Decrypted) { Write-Host "Error: Decryption failed. Wrong password?" -ForegroundColor Red; exit 1 }
$Decrypted | Invoke-Expression
