#!/bin/sh
# Encrypted installer - https://github.com/rikonor/inits
set -e
if ! command -v openssl >/dev/null 2>&1; then echo "Error: openssl required"; exit 1; fi
printf "Password: "; stty -echo 2>/dev/null || true; read PASSWORD; stty echo 2>/dev/null || true; echo ""
PAYLOAD="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"
DECRYPTED=$(echo "$PAYLOAD" | openssl enc -aes-256-cbc -d -a -pbkdf2 -iter 100000 -k "$PASSWORD" 2>/dev/null) || { echo "Error: Decryption failed. Wrong password?"; exit 1; }
echo "$DECRYPTED" | sh
