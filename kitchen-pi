#!/bin/sh
# Encrypted installer - https://github.com/rikonor/inits
set -e
if ! command -v openssl >/dev/null 2>&1; then echo "Error: openssl required"; exit 1; fi
printf "Password: " > /dev/tty; stty -echo 2>/dev/null || true; read PASSWORD < /dev/tty; stty echo 2>/dev/null || true; echo "" > /dev/tty
PAYLOAD="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"
DECRYPTED=$(echo "$PAYLOAD" | openssl enc -aes-256-cbc -d -a -pbkdf2 -iter 100000 -k "$PASSWORD" 2>/dev/null) || { echo "Error: Decryption failed. Wrong password?"; exit 1; }
echo "$DECRYPTED" | sh
